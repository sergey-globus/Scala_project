## Используемые версии зависимостей и плагинов

- Scala version: **2.12.18**  
- Spark version: **3.5.0**  
- Java compiler source/target: **11**

## Сборка и запуск

Для сборки проекта (JAR-файла с контейнером всех зависимостей) используется Maven:
```
mvn clean package
```

## В проекте используется слойная архитектура:

- Domain - содержит сущности
- Infrastructure - слой отвечает за получение и преобразование данных в объекты domain, а также низкоуровневые функции
- Service - слой бизнес-логики, оперирует объектами domain
- App - входная точка приложения, запускает обработку и связывает остальные слои, также отвечает за чтение файлов, вывод результатов и работу со Spark


## Объяснение строки с `unknown` в выводе файла

Строка с открытием документа DOC_OPEN имеет два формата:
- DOC_OPEN <timestamp> <SEARCH_ID> <DOC_ID>
- DOC_OPEN <SEARCH_ID> <DOC_ID>

В выходных данных result/opens.txt для каждого открытия документа фиксируется дата в формате `dd.MM.yyyy`, извлекаемая из метки времени (timestamp). Поэтому в случаях, когда DOC_OPEN в строке не имеет <timestamp>, дата становится `"unknown"`.

Если в конфигурации проекта установлено `dropUnknownDates = true`, то записи с `"unknown"` не сохраняются, если же опция выключена (по умолчанию), данные с `"unknown"` остаются, чтобы не терять событие вовсе.

## Пример работы программы
```

(Отладка) Всего быстрых поисков (QS): 17137
(Отладка) Всего карточечных поисков (CARD_SEARCH): 4345
Количество раз, когда в карточке производили поиск документа ACC_45616: 24
Количество открытий каждого документа, найденного через быстрый поиск за каждый день -> result/opens.txt

Process finished with exit code 0
```
